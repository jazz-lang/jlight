#[derive(Copy, Clone)]
pub enum Instruction {
    Load(u16, u16, u16),
    Store(u16, u16, u16),
    LoadInt(u16, u64),
    LoadNum(u16, u64),
    LoadConst(u16, u32),
    LoadGlobal(u16, u32),
    LoadU(u16, u16),
    StoreU(u16, u16),
    Construct(u16, u16, u16),
    ConstructArray(u16, u16, u16),
    Call(u16, u16, u16),
    VirtCall(u16, u16, u16),
    TailCall(u16, u16, u16),
    Return(u16),
    MakeEnv(u16, u16),
    Push(u16),
    Pop(u16),
    StoreStack(u16, u16),
    LoadStack(u16, u16),
    Goto(u16),
    GotoIfFalse(u16, u16),
    GotoIfTrue(u16, u16),
    Add(u16, u16, u16),
    Sub(u16, u16, u16),
    Div(u16, u16, u16),
    Mod(u16, u16, u16),
    Mul(u16, u16, u16),
    Shr(u16, u16, u16),
    Shl(u16, u16, u16),
    Greater(u16, u16, u16),
    Less(u16, u16, u16),
    GreaterEqual(u16, u16, u16),
    LessEqual(u16, u16, u16),
    Equal(u16, u16, u16),
    NotEqual(u16, u16, u16),
    Not(u16, u16),
    And(u16, u16, u16),
    Or(u16, u16, u16),
    Xor(u16, u16, u16),
    BoolAnd(u16, u16, u16),
    BoolOr(u16, u16, u16),

    CatchBlock(u16, u16),
    Move(u16, u16),
    Safepoint,
}

pub struct BasicBlock {
    pub instructions: Vec<Instruction>,
    pub ip: usize,
}
